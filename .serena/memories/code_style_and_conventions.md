# コーディングスタイルと規約

## TypeScript設定
- **strictモード**: 有効
- **パスエイリアス**: `@/` = `./src/`
- **target**: ES2017
- **moduleResolution**: bundler

## コーディング規約

### 型定義
- **interface vs type**: `type`を使用する (interfaceは使用しない)
- **配列の型定義**: `Array<T>`ではなく`T[]`を使用する
- **既存の型定義の活用**: `Pick`、`Omit`などを使って型を再利用する

### 関数定義
- **関数宣言**: Function宣言を使用する (アロー関数ではなく)
- **引数の形式**: 引数が2個以上の場合はオブジェクト形式で設定する
- **クラスの使用**: クラスは使用せず、関数ベースで実装する
- **純粋関数**: 副作用のない純粋関数として実装する

### JSDoc
- 関数やコンポーネントには**必ず**JSDocコメントを追加する
- 必要最小限のコメントにとどめる
- 装飾的なコメント (「契約による設計」など) は避ける

## Biome設定 (biome.json)

### Formatter
- **インデント**: スペース2つ
- **行幅**: 100文字
- **クォート**: シングルクォート (`'`)
- **JSXクォート**: シングルクォート (`'`)
- **セミコロン**: 必須 (always)
- **末尾カンマ**: 必須 (all)

### Linter
- 未使用のインポート: warn
- 未使用の変数: warn

## 実装原則

### 契約による設計
- **TypeScriptの型システムを信頼する** - ランタイムでの型チェックは不要
- **ライブラリの仕様を事前確認** - 例外を投げない関数に不要なtry-catchは追加しない
- **契約はコードで表現** - 過度なJSDocではなく、関数の動作そのもので契約を示す
- インターフェースによる疎結合
- 早期リターンで可読性向上
- 過度な抽象化は避ける
- 単一責任の法則ではなく、ロジックの意味で実装を行う
  - 1メソッド、1責任でメソッドを分解しすぎても見づらくなる

### 避けるべきパターン
- 既にTypeScriptで型保証されている引数の再チェック
- 例外を投げないライブラリ関数への不要なtry-catch
- 事前・事後・不変条件の詳細なコメント記述

### 推奨パターン
- 関数名と型定義で契約を明示
- シンプルで読みやすいコード構造
- 必要最小限のJSDocコメント
- 純粋関数としての実装 (副作用なし)